{"ast":null,"code":"import _toConsumableArray from\"E:/project/react/reactread-firebase/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"E:/project/react/reactread-firebase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"E:\\\\project\\\\react\\\\reactread-firebase\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useContext,useEffect,useCallback}from\"react\";import{TaskData}from\"./components/Context\";import CreateTask from\"./components/CreateTask\";import Header from\"./components/Header\";import Note from\"./components/Note\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useContext=useContext(TaskData),task=_useContext.task,setTask=_useContext.setTask,isLoading=_useContext.isLoading,setIsLoading=_useContext.setIsLoading;//fetch data from the api\nvar fetchTaskDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,fetchData,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://kapse-task-default-rtdb.firebaseio.com/task.json');case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;fetchData=[];for(key in data){fetchData.push(data[key]);}console.log(fetchData);setTask(fetchData);case 10:case\"end\":return _context.stop();}}},_callee);}));return function fetchTaskDetails(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchTaskDetails();},[setTask]);//delete the task handler\nvar deleteHandler=function deleteHandler(id){setTask(function(preVal){return _toConsumableArray(preVal.filter(function(val,idx){return idx!==id;}));});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"no data\"}),!isLoading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CreateTask,{}),/*#__PURE__*/_jsx(\"div\",{className:\"taskList\",children:task.map(function(val,idx){return/*#__PURE__*/_jsx(Note,{id:idx,title:val.title,content:val.content,onDelete:deleteHandler},idx);})})]})]});}export default App;","map":{"version":3,"sources":["E:/project/react/reactread-firebase/src/App.js"],"names":["useContext","useEffect","useCallback","TaskData","CreateTask","Header","Note","App","task","setTask","isLoading","setIsLoading","fetchTaskDetails","fetch","response","json","data","fetchData","key","push","console","log","deleteHandler","id","preVal","filter","val","idx","map","title","content"],"mappings":"8XAAA,OAASA,UAAT,CAAqBC,SAArB,CAAgCC,WAAhC,KAAmD,OAAnD,CACA,OAASC,QAAT,KAAyB,sBAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,C,6IAEA,QAASC,CAAAA,GAAT,EAAe,CACb,gBAAmDP,UAAU,CAACG,QAAD,CAA7D,CAAQK,IAAR,aAAQA,IAAR,CAAcC,OAAd,aAAcA,OAAd,CAAuBC,SAAvB,aAAuBA,SAAvB,CAAkCC,YAAlC,aAAkCA,YAAlC,CAEA;AAEA,GAAMC,CAAAA,gBAAgB,0FAAC,yLACEC,CAAAA,KAAK,CAAC,0DAAD,CADP,QACfC,QADe,qCAEFA,CAAAA,QAAQ,CAACC,IAAT,EAFE,QAEfC,IAFe,eAGjBC,SAHiB,CAGP,EAHO,CAIrB,IAAQC,GAAR,GAAeF,CAAAA,IAAf,CAAoB,CAClBC,SAAS,CAACE,IAAV,CAAeH,IAAI,CAACE,GAAD,CAAnB,EACD,CACDE,OAAO,CAACC,GAAR,CAAYJ,SAAZ,EACAR,OAAO,CAACQ,SAAD,CAAP,CARqB,uDAAD,kBAAhBL,CAAAA,gBAAgB,0CAAtB,CAWAX,SAAS,CAAC,UAAI,CACZW,gBAAgB,GACjB,CAFQ,CAEP,CAACH,OAAD,CAFO,CAAT,CAIA;AACA,GAAMa,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,EAAD,CAAQ,CAC5Bd,OAAO,CAAC,SAACe,MAAD,CAAY,CAClB,0BAAWA,MAAM,CAACC,MAAP,CAAc,SAACC,GAAD,CAAMC,GAAN,QAAcA,CAAAA,GAAG,GAAKJ,EAAtB,EAAd,CAAX,EACD,CAFM,CAAP,CAGD,CAJD,CAMA,mBACE,wCACE,KAAC,MAAD,IADF,CAEGb,SAAS,eAAI,8BAFhB,CAGG,CAACA,SAAD,eACC,wCACE,KAAC,UAAD,IADF,cAEE,YAAK,SAAS,CAAC,UAAf,UAEIF,IAAI,CAACoB,GAAL,CAAS,SAACF,GAAD,CAAMC,GAAN,CAAc,CACrB,mBACE,KAAC,IAAD,EAEE,EAAE,CAAEA,GAFN,CAGE,KAAK,CAAED,GAAG,CAACG,KAHb,CAIE,OAAO,CAAEH,GAAG,CAACI,OAJf,CAKE,QAAQ,CAAER,aALZ,EACOK,GADP,CADF,CASD,CAVD,CAFJ,EAFF,GAJJ,GADF,CA2BD,CAED,cAAepB,CAAAA,GAAf","sourcesContent":["import { useContext, useEffect, useCallback } from \"react\";\nimport { TaskData } from \"./components/Context\";\nimport CreateTask from \"./components/CreateTask\";\nimport Header from \"./components/Header\";\nimport Note from \"./components/Note\";\n\nfunction App() {\n  const { task, setTask, isLoading, setIsLoading } = useContext(TaskData);\n\n  //fetch data from the api\n\n  const fetchTaskDetails=async()=>{\n    const response = await fetch('https://kapse-task-default-rtdb.firebaseio.com/task.json');\n    const data = await response.json();\n    let fetchData=[];\n    for(let key in data){\n      fetchData.push(data[key])\n    }\n    console.log(fetchData);\n    setTask(fetchData);\n  }\n\n  useEffect(()=>{\n    fetchTaskDetails();\n  },[setTask])\n \n  //delete the task handler\n  const deleteHandler = (id) => {\n    setTask((preVal) => {\n      return [...preVal.filter((val, idx) => idx !== id)]\n    })\n  }\n\n  return (\n    <>\n      <Header />\n      {isLoading && <p>no data</p>}\n      {!isLoading && (\n        <>\n          <CreateTask />\n          <div className=\"taskList\">\n            {\n              task.map((val, idx) => {\n                return (\n                  <Note\n                    key={idx}\n                    id={idx}\n                    title={val.title}\n                    content={val.content}\n                    onDelete={deleteHandler}\n                  />\n                )\n              })\n            }\n          </div>\n        </>\n      )}\n\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}